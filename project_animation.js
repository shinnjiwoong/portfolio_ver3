// ****************** 프로젝트 JSON ******************

let mindcraft = {
    "name" : "MINDCRAFT",
    "form" : "EP",
    //  - 6 Songs
    "project_num" : "001",
    "year" : "2019",
    "scope" : ["Music"],
    "represent_source" : ["assets/project_source/IMG__MINDCRAFT__1.png", "assets/project_source/IMG__MINDCRAFT__2.png"],
    "video" : ['false'],
    "link" : ["https://soundcloud.com/montikayoti/sets/mindcraft", 'Listen'],
    "description_kr" : "<span style='text-decoration: underline 1px'>Personal Work</span>",
    "description_en" : "Cover Design : Sicky Cho <br>Music : Jiwoong Shinn <br>Mixing & Mastering : Jiwoong Shinn "
}
let datura = {
    "name" : "DATURA : TESTTAPE",
    "form" : "Album",
    //  - 4 Songs
    "project_num" : "002",
    "year" : "2019",
    "scope" : ["Music", "Mix & Master"],
    "represent_source" : ["assets/project_source/IMG__DATURA__1.png", "assets/project_source/IMG__DATURA__2.png", "assets/project_source/IMG__DATURA__3.png"],
    "video" : ['false'],
    "link" : ["https://open.spotify.com/album/6wumkYIzwCb4HC75H6KqDy?si=F6uUCIDJRuqSj8Qon8KLEQ", "Listen", "https://youtu.be/gqTXPMBMY0o", "TU + DA MV"],
    "description_kr" : "Worked with &nbsp; <span style='text-decoration: underline 1px'>Wolf Kooky</span>",
    "description_en" : "Vocal : Wolf Kooky <br>Video Production : 17oz <br>Music : Jiwoong Shinn <br>Mixing & Mastering : Jiwoong Shinn "
}
let postcorona = {
    "name" : "POSTCORONA",
    "form" : "Album",
    //  - 7 Songs
    "project_num" : "003",
    "year" : "2020",
    "scope" : ["Music", "Mix & Master"],
    "represent_source" : ["assets/project_source/IMG__OC__1.png", "assets/project_source/IMG__OC__2.png", "assets/project_source/IMG__OC__3.png"],
    "video" : ['false'],
    "link" : ["https://open.spotify.com/album/4XVJ4p4A3my4qaKoQAmzHs?si=Yxc6Uii0TDySSa6RavOIPQ", "Listen", "https://youtu.be/r71OJW6194k", "FORMLESS visual", "https://youtu.be/CyD3Q1mhFe4", "POTENTIAL MV", "https://youtu.be/oVHx8RgiSOk", "LANDSCAPE MV"],
    "description_kr" : "Worked with &nbsp; <span style='text-decoration: underline 1px'>ProjectOC</span>",
    "description_en" : "Vocal : ProjectOC <br>Video Production : KWONEE <br>Cover Design : ERRANTH <br>Music : Jiwoong Shinn <br>Mixing & Mastering : Jiwoong Shinn "
}
let rem = {
    "name" : "REM",
    "form" : "Album",
    //  - 5 Songs
    "project_num" : "004",
    "year" : "2021",
    "scope" : ["Music", "Mix & Master"],
    "represent_source" : ["assets/project_source/IMG__REM__1.png", "assets/project_source/IMG__REM__2.png", "assets/project_source/IMG__REM__3.png"],
    "video" : ['false'],
    "link" : ["https://open.spotify.com/album/3o3wiixU7kea7WqqV0slMD?si=d89YGzskSmiRwooYwGt38A", "Listen"],
    "description_kr" : "Worked with &nbsp; <span style='text-decoration: underline 1px'>Wolf Kooky</span>",
    "description_en" : "Vocal : Wolf Kooky <br>Animation : Cary Nam <br>Cover Design : Cary Nam <br>Music : Jiwoong Shinn <br>Mixing & Mastering : Jiwoong Shinn "
}
let artificial_object = {
    "name" : "ARTIFICIAL OBJECT",
    "form" : "Album",
    //  - 7 Songs
    "project_num" : "005",
    "year" : "2021",
    "scope" : ["Music", "Mix & Master"],
    "represent_source" : ["assets/project_source/IMG__AO__1.png", "assets/project_source/IMG__AO__2.png"],
    "video" : ['false'],
    "link" : ["https://open.spotify.com/album/4aiYP97aOHtDt4bmEFk69H?si=Pbf1JusYQ9e0jrByDOyu8w", "Listen", "https://youtu.be/ION7EsKobNA", "DIGITS MV", "https://youtu.be/_UdS-lo9Kek", "BLIND SPOT Visual"],
    "description_kr" : "Worked with &nbsp; <span style='text-decoration: underline 1px'>JGP$</span>",
    "description_en" : "Vocal : JGP$ <br>Video Production for ＜DIGITS＞: SAPIENS <br>Video Production for ＜Blind Spot＞ : ERRANTH<br>Music : Jiwoong Shinn <br>Mixing & Mastering : Jiwoong Shinn"
}
let altgal_simple = {
    "name" : "＜간결한 생각들: 생태-젠더-공산＞",
    "form" : "Exhibition",
    //  - 1 Song
    "project_num" : "006",
    "year" : "2021",
    "scope" : ["Music"],
    "represent_source" : ["assets/project_source/IMG__ALT__1.png", "assets/project_source/IMG__ALT__2.png"],
    "video" : ['false'],
    "link" : ["https://soundcloud.com/montikayoti/a-sequence-for-sinking?si=652cfd9e3fa540809d0c2b76d6069d74&utm_source=clipboard&utm_medium=text&utm_campaign=social_sharing","Listen", "http://altspaceloop.com/exhibitions/simplethoughts-2021", "Exhibition Info"],
    "description_kr" : "Worked with &nbsp; <span style='text-decoration: underline 1px'>대안공간루프 (ALT SPACE LOOP)</span>",
    "description_en" : "Music : Jiwoong Shinn <br>Mixing & Mastering : Jiwoong Shinn"
}
let kasina_kaffe = {
    "name" : "KASINA Kaffe commercial",
    "form" : "Commercial Video",
    //  - 1 minute
    "project_num" : "007",
    "year" : "2022",
    "scope" : ["Music"],
    "represent_source" : ["assets/project_source/IMG__KAFFE__1.png", "assets/project_source/IMG__KAFFE__2.png", "assets/project_source/IMG__KAFFE__2.png", "assets/project_source/IMG__KAFFE__4.png"],
    "video" : ['false'],
    "link" : ["https://www.kasina.co.kr/goods/event_sale.php?sno=126", "Merchandise Shop"],
    "description_kr" : "Worked with &nbsp; <span style='text-decoration: underline 1px'>Kasina</span>",
    "description_en" : "Animation : Cary Nam <br>Music : Jiwoong Shinn <br>Mixing & Mastering : Jiwoong Shinn"
}
let umm_1 = {
    "name" : "꽃내음 vol.1 | UMM vol.1",
    "form" : "Mixset",
    //  - 46 minutes
    "project_num" : "008",
    "year" : "2022",
    "scope" : ["Mixset", "Artwork"],
    "represent_source" : ["assets/project_source/IMG__UMM1__1.png", "assets/project_source/IMG__UMM1__2.png"],
    "video" : ['false'],
    "link" : ["https://soundcloud.com/montikayoti/umm-vol1?si=fc065ae8160d4da7adf4e738704eb97e&utm_source=clipboard&utm_medium=text&utm_campaign=social_sharing", "Listen"],
    "description_kr" : "<span style='text-decoration: underline 1px'>Personal Work</span>",
    "description_en" : "Curation & Mix : Jiwoong Shinn <br>Cover Design : Jiwoong Shinn "
}
let kasina_seongsu = {
    "name" : "KASINA seongsu ave. commercial",
    "form" : "Commercial Video",
    //  - 57 seconds
    "project_num" : "009",
    "year" : "2022",
    "scope" : ["Music"],
    "represent_source" : ["assets/project_source/IMG__KAFFE__1.png"],
    "video" : ['true', "assets/project_videos/VID__KASINA__SS.mp4"],
    "link" : ["", ""],
    "description_kr" : "Worked with &nbsp; <span style='text-decoration: underline 1px'>Kasina</span>",
    "description_en" : "Animation : Cary Nam <br>Music : Jiwoong Shinn <br>Mixing & Mastering : Jiwoong Shinn"
}
let onerm = {
    "name" : "ONERM : NEVER FALL DOWN",
    "form" : "Commercial Video",
    //  - 49 seconds
    "project_num" : "010",
    "year" : "2022",
    "scope" : ["Music"],
    "represent_source" : ["assets/project_source/IMG__ONERM1__1.png", "assets/project_source/IMG__ONERM1__2.png"],
    "video" : ['true', "assets/project_videos/VID__ONERM__1_2.mp4"],
    "link" : ["https://youtu.be/EuHSbNYCJ_U", "Video Link"],
    "description_kr" : "Worked with &nbsp; <span style='text-decoration: underline 1px'>ONERM</span>",
    "description_en" : "Video Production : 이승원<br>Music : Jiwoong Shinn <br>Mixing & Mastering : Jiwoong Shinn"
}
let hyndai_casper = {
    "name" : "HYUNDAI CASPER x KASINA commercial",
    "form" : "Commercial Video",
    //  - 1 minute
    "project_num" : "011",
    "year" : "2022",
    "scope" : ["Music"],
    "represent_source" : ["assets/project_source/IMG__CASPER__1.png", "assets/project_source/IMG__CASPER__2.png", "assets/project_source/IMG__CASPER__3.png"],
    "video" : ['true', "assets/project_videos/VID__CASPER_2.mp4"],
    "link" : ["", ""],
    "description_kr" : "Worked with &nbsp; <span style='text-decoration: underline 1px'>Hyundai CASPER, Kasina</span>",
    "description_en" : "Animation : Cary Nam <br>Music : Jiwoong Shinn <br>Mixing & Mastering : Jiwoong Shinn"
}
let reservoir_dogs = {
    "name" : "RESERVOIR DOGS mix",
    "form" : "Mixset",
    //  - 1 hour 
    "project_num" : "012",
    "year" : "2022",
    "scope" : ["Mixset", "Artwork", "Performance"],
    "represent_source" : ["assets/project_source/IMG__RESERVOIR__1.png", "assets/project_source/IMG__RESERVOIR__2.png", "assets/project_source/IMG__RESERVOIR__3.png"],
    "video" : ['false'],
    "link" : ["https://soundcloud.com/montikayoti/reservoir_dogs_mixmp3?si=3266bf45ea83445fa38e2b17f337fd02&utm_source=clipboard&utm_medium=text&utm_campaign=social_sharing", "Listen"],
    "description_kr" : "Worked with &nbsp; <span style='text-decoration: underline 1px'>저수지 (Reservoir) @ hongdae</span>",
    "description_en" : "Curation & Mix : Jiwoong Shinn <br>Cover Design : Jiwoong Shinn"
}
let picit = {
    "name" : "PICIT",
    "form" : "Website",
    "project_num" : "013",
    "year" : "2022",
    "scope" : ["Frontend & Backend Development", "Web Design"],
    "represent_source" : ["assets/project_source/IMG__PICIT__1.png", "assets/project_source/IMG__PICIT__2.png", "assets/project_source/IMG__PICIT__3.png", "assets/project_source/IMG__PICIT__4.png"],
    "video" : ['true', "assets/project_videos/VID__PICIT.mp4"],
    "link" : ["https://github.com/shinnjiwoong/PicIt.com", "Project Info"],
    "description_kr" : "<span style='text-decoration: underline 1px'>Personal Work</span>",
    "description_en" : "Web Development : Jiwoong Shinn, Sungwon Yuk <br>Web Design : Jiwoong Shinn"
}
let gnyang_2022 = {
    "name" : "GNYANG_20_21",
    "form" : "EP",
    //  - 5 Songs
    "project_num" : "014",
    "year" : "2022",
    "scope" : ["Music"],
    "represent_source" : ["assets/project_source/IMG__GNY22__1.png", "assets/project_source/IMG__GNY22__2.png"],
    "video" : ['false', ""],
    "link" : ["https://soundcloud.com/montikayoti/sets/gnyang_20_21-monti-kayoti-x-jamwon?si=60ba5e9e80724150b6a88ecd96d39bb8&utm_source=clipboard&utm_medium=text&utm_campaign=social_sharing", "Listen"],
    "description_kr" : "<span style='text-decoration: underline 1px'>Personal Work</span>",
    "description_en" : "Cover Design : Sicky Cho<br>Music : Jiwoong Shinn & JAMWON"
}
let shinnjiwoong = {
    "name" : "SHINNJIWOONG",
    "form" : "Website",
    "project_num" : "016",
    "year" : "2023",
    "scope" : ["Frontend Development", "Web Design", "Music"],
    "represent_source" : ["assets/project_source/IMG__PORTFO__1.png", "assets/project_source/IMG__PORTFO__2.png", "assets/project_source/IMG__PORTFO__3.png", "assets/project_source/IMG__PORTFO__4.png"],
    "video" : ['true', "assets/project_videos/VID__PORTFO.mp4"],
    "link" : ["", ""],
    "description_kr" : "<span style='text-decoration: underline 1px'>Personal Work</span>",
    "description_en" : "Web Development & Design : Jiwoong Shinn<br>Music : Jiwoong Shinn"
}
let exodus = {
    "name" : "EXODUS",
    "form" : "Video",
    //  - 5 minutes
    "project_num" : "015",
    "year" : "2023",
    "scope" : ["Music", "Sound Design"],
    "represent_source" : ["assets/project_source/IMG__EXODUS__1.png", "assets/project_source/IMG__EXODUS__2.png", "assets/project_source/IMG__EXODUS__3.png", "assets/project_source/IMG__EXODUS__4.png", "assets/project_source/IMG__EXODUS__5.png", "assets/project_source/IMG__EXODUS__6.png"],
    "video" : ['false', ""],
    "link" : ["", ""],
    "description_kr" : "Worked with &nbsp;<span style='text-decoration: underline 1px;'>Cary Nam & Jimin Choi</span>",
    "description_en" : "Video Production : Cary Nam & Jimin Choi<br>Music : Jiwoong Shinn"
}




// DOM SELECTOR

const project_page_container = document.querySelector(".project-page-container")
const project_page_number = document.querySelector('.project-page-number');
const bottom_bar_prev_btn = document.querySelector('.bottom-bar-prev-btn');
const bottom_bar_next_btn = document.querySelector('.bottom-bar-next-btn');
const sec_1 = document.querySelector(".sec-1");
const sec_2 = document.querySelector(".sec-2");
const sec_3 = document.querySelector(".sec-3");
const sec_4 = document.querySelector(".sec-4");

// 일반 변수

const scope_music_color = "rgb(255, 0, 0)";
const scope_programming_color = "rgb(0, 255, 255)";
const scope_mixset_color = "rgb(249, 249, 0)";
const scope_design_color = "rgb(8, 0, 255)";
let page_var = 1;

// ARRAY 

let sections = [sec_1, sec_2, sec_3, sec_4];
let project_arr = [shinnjiwoong, exodus, gnyang_2022, picit, reservoir_dogs, hyndai_casper, onerm, kasina_seongsu, umm_1, kasina_kaffe, altgal_simple, artificial_object, rem, postcorona, datura, mindcraft];


function getPageNum(){
    console.log(project_arr.length)
    if(project_arr.length % 4 != 0){
        return parseInt(project_arr.length / 4) + 1
    }else{
        return parseInt(project_arr.length / 4)
    }
}

let whole_page_num = getPageNum();
// FUNCTIONS

// PROJECT HOME BTN
project_home_btn.addEventListener('click', async ()=>{
    await changeStatus('home');
    project_page_container.style.opacity = '0%';
    intro_bg_top.style.opacity = '0%';
    intro_bg_bottom.style.opacity = '0%';
    setTimeout(function(){

        intro_title_container.style.backgroundColor = 'white';
        intro_top_right_bg.style.backgroundColor = 'rgb(200, 200, 200)';
        intro_bottom.style.backgroundColor = 'rgb(200, 200, 200)';
        intro_bottom_right_bg.style.backgroundColor = 'white';
        top_container.style.display = "flex";
        bottom_container.style.display = "flex";
        // window.addEventListener('click', handleWindowClick);
        cursor_design.style.opacity = "100%"
        music_container.style.display = "none"
        intro_music_btn.style.display = "block"
        intro_bio_btn.style.display = "block";
        bio_container.style.display = "none";
        intro_links_btn.style.display = "block";
        links_container.style.display = "none";
        project_page_container.style.display = "none"
    }, 500);
    setTimeout(function(){    
        intro_bg_top.style.opacity = '100%';
        intro_bg_bottom.style.opacity = '100%';
        top_container.style.opacity = "100%"
        bottom_container.style.opacity = "100%";
    }, 600)
})



// 프로젝트 전환
async function setPageIndex(num){
    if(num < 1){
        page_var = whole_page_num;
    }else{
        page_var = num;
    }
}
async function getPageIndex(){
    return page_var
}
async function setPageNum(){
    let page = await getPageIndex();
    project_page_number.innerText = `${page} / ${whole_page_num}`
}
async function change_projects(num){
    if(num == parseInt(project_arr.length/4) + 1){
        let rest = project_arr.length % 4;
        for(let i = 0; i < rest; i++){
            await showProject(sections[i], project_arr[4*(num-1)+i])
        }
        for(let i = 0; i<4-rest ; i++){
            sections[rest + i].style.display = "none";
        }
    }else{
        for(let i = 0 ; i <4; i++){
            await showProject(sections[i], project_arr[4*(num-1)+i]);
            sections[i].style.display = "inline-block";
        }
    }
    
}
async function getCursor(x, y){
    let default_rect = sec_1.getBoundingClientRect();
    if(x > default_rect.width){
        x = x - default_rect.width;
    }
    if(y > default_rect.height){
        y = y - default_rect.height
    }
    return [x, y]
}
async function hideProject(front, back){
    front.style.opacity = "0%";
    back.style.opacity = "0%";
}
async function showFront(front, back){
    front.style.display = "inline-block";
    back.style.display = "none";
    setTimeout(function(){
        front.style.opacity = "100%";
    }, 500)
    
}
async function showBack(front, back){
    front.style.display = "none";
    back.style.display = "flex";
    back.style.opacity = "100%";
}
async function hideSource(img){
    img.style.opacity = "0%"
}
async function showSource(img){
    img.style.opacity = "100%"
}
async function showProject(e,p){

    const project_front_container = e.querySelector(".project-front-container")
    const project_back_container = e.querySelector(".project-back-container");
    const project_esc = project_back_container.querySelector(".project-esc-btn .project-esc")
    const project_img = e.querySelector(".project-img");
    const project_title = e.querySelector(".project-title")
    const project_desc_kr = e.querySelector(".project-desc-kr")
    const project_desc_en = e.querySelector(".project-desc-en")
    const project_link_container = e.querySelector('.project-link-container');
    const project_link = e.querySelector(".project-link");
    const project_scope_container = e.querySelector(".project-scope-container");
    const project_arrow_l = e.querySelector('.project-front-container .project-cursor-left');
    const project_arrow_r = e.querySelector('.project-front-container .project-cursor-right')
    const img_len = p.represent_source.length;
    const project_scope_len = p.scope.length;
    const project_index = project_back_container.querySelector(".project-index-container .project-index");
    const project_vid = project_front_container.querySelector(".project-vid");
    const project__format = e.querySelector(".project__format");
    const project__format__container = e.querySelector(".project__format__container");

    let rect = e.getBoundingClientRect();
    let i = 0;
    // project_img.src = "";

    await hideProject(project_front_container, project_back_container);

    setTimeout(async function(){
        // project_img.src = p.represent_source[0];
        await showImg(p, project_img, 0);
        project_title.innerText = p.name;
        // project_index.innerText = `${p.project_num} - ${p.year}`
        project_desc_kr.innerHTML = p.description_kr;
        project_desc_en.innerHTML = p.description_en;
        project_link_container.innerHTML = "";
        project__format__container.innerHTML = "";
        if(p.link[0] != ""){
            project_link_container.style.display = 'flex';
            let link_length = p.link.length;

            for(let i = 0; i < link_length-1; i = i+2){
                let link = document.createElement('a');
                let comma = document.createElement('p');
                comma.classList.add('project-link-comma');
                comma.innerText = '|'
                link.href = p.link[i];
                link.innerText = p.link[i+1];
                link.classList.add('project-link');
                link.target = "_blank";

                project_link_container.appendChild(link)
                project_link_container.appendChild(comma)
            }
            project_link_container.lastChild.remove();
            
        }else{
            project_link_container.style.display = 'none';
        }
        let format__title = document.createElement('p');
        format__title.innerText = p.form;
        format__title.classList.add('project__format');
        project__format__container.appendChild(format__title);


        project_scope_container.innerHTML = "Work Area : ";

        if(p.video[0] == "false"){
            project_vid.style.display = "none";
            project_vid.src = "";
        }else if(p.video[0] == "true"){
            // project_vid.src = p.video[1];
            await showVid(p, project_vid, 1);
            project_vid.style.display = "inline-block";
        }
        for(let i = 0; i < project_scope_len; i++){
            let scope_node = document.createElement('p');
            let comma = document.createElement('p');
            scope_node.classList.add('project-scope');
            comma.classList.add('project-scope');
            scope_node.style.fontWeight = "lighter";
            scope_node.innerText = p.scope[i]
            comma.innerText = '/'
            project_scope_container.appendChild(scope_node);
            project_scope_container.appendChild(comma);
        }
        project_scope_container.lastChild.remove();
    }, 500)
    
    project_img.addEventListener("load", async ()=>{
        await showFront(project_front_container, project_back_container)
    })
    project_img.addEventListener("click", async (e)=>{
        
        let rect_width = rect.width;
        let rect_height = rect.height;
        let cursorPoint = await getCursor(e.clientX, e.clientY);
        if(e.clientX>40 && e.clientX<window.innerWidth-40){
            await showBack(project_front_container, project_back_container);
        }
        
    })
    project_vid.addEventListener("click", async (e)=>{
        if(e.clientX>40 && e.clientX<window.innerWidth-40){
            await showBack(project_front_container, project_back_container);
        }
    })
    project_arrow_l.addEventListener('click', async ()=>{
        await hideProject(project_front_container, project_back_container);
        setTimeout(async function(){
            project_img.src = "";
            if(p.video[0] == "false"){
                i = i-1;
                project_vid.style.display = "none";
                project_vid.src = "";
                if(i < 0){
                    i = img_len-1
                    await showImg(p, project_img, i)
                    await showFront(project_front_container, project_back_container);
                    // project_img.src = p.represent_source[i];
                }else{
                    await showImg(p, project_img, i)
                    await showFront(project_front_container, project_back_container);
                    // project_img.src = p.represent_source[i];
                }
            }else if(p.video[0] == "true"){
                i = i-1;
                if(i < 0){
                    await showVid(p, project_vid, 1)
                    // project_vid.src = p.video[1];
                    project_vid.style.display = "inline-block";
                    i = img_len;
                    await showFront(project_front_container, project_back_container);
                }else{
                    project_vid.style.display = "none";
                    await showImg(p, project_img, i)
                    await showFront(project_front_container, project_back_container);
                    // project_img.src = p.represent_source[i];
                }
            }
        }, 500)
        
    })
    project_arrow_r.addEventListener('click', async ()=>{
        await hideProject(project_front_container, project_back_container);
        setTimeout(async function(){
            project_img.src = "";
            if(p.video[0] == "false"){
                i++;
                project_vid.style.display = "none";
                project_vid.src = "";
                if(i == img_len){
                    i = 0;
                    await showImg(p, project_img, i)
                    await showFront(project_front_container, project_back_container);
                    // project_img.src = p.represent_source[i];
                }else{
                    await showImg(p, project_img, i)
                    await showFront(project_front_container, project_back_container);
                    // project_img.src = p.represent_source[i];
                }
            }else if(p.video[0] == "true"){
                i++;
                if(i == img_len){
                    await showVid(p, project_vid, 1)
                    // project_vid.src = p.video[1];
                    project_vid.style.display = "inline-block";
                    i = -1;
                    await showFront(project_front_container, project_back_container);
                }else{
                    project_vid.style.display = "none";
                    await showImg(p, project_img, i)
                    await showFront(project_front_container, project_back_container);
                    // project_img.src = p.represent_source[i];
                }
            }
        }, 500)
        
    })
    project_esc.addEventListener("click", async ()=>{
        await showFront(project_front_container, project_back_container);
    })
}

// Changing projects
bottom_bar_prev_btn.addEventListener('click', async ()=>{
    let changing_index = await getPageIndex();
    if(changing_index == 1){
        if(project_arr.length%4 == 0){
            changing_index = parseInt(project_arr.length / 4);
        }else{
            changing_index = parseInt(project_arr.length / 4)+1;
        }
        
    }else{
        changing_index = page_var - 1;
    }
    await setPageIndex(changing_index);
    await setPageNum()
    await change_projects(changing_index);
})

bottom_bar_next_btn.addEventListener('click', async ()=>{
    let changing_index = await getPageIndex();
    if(project_arr.length % 4 == 0 && changing_index == project_arr.length / 4){
        changing_index = 1;
    }else if(project_arr.length % 4 != 0 && changing_index == parseInt(project_arr.length / 4) + 1){
        changing_index = 1
    }
    else{
        changing_index = changing_index + 1;
    }
    await setPageIndex(changing_index);
    await setPageNum();
    
    await change_projects(changing_index);
})

// 프로젝트 이미지 및  비디오 소스의 데이터 가져오기 
async function showImg(project, element, index){
    element.src = project.represent_source[index];
}

async function showVid(project, element, index){
    element.src = project.video[index];
}